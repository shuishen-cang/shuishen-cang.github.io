<!doctype html>
<html lang="en-us">
  <head>
    <title>Hi3559a_A53UP调试(二)：中断分析 // 洛沧</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://shuishen-cang.github.io/css/main.min.98d725446055c7d6e9d648a0493139d9b9363294627276b951f06d5d19331003.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hi3559a_A53UP调试(二)：中断分析"/>
<meta name="twitter:description" content="一、 中断分析-linux部分 hi3559a的核心部署方式为multicore和big-little，在multicore方式中，所有跟媒体相关的代码都在linux系统，在big-little方式中，部分媒体相关的代码在liteos中，媒体代码与liteos存在较大的耦合。
在milticore方式中，所有的中断都指向了linux系统，在big-little方式中，部分中断指向了linux系统，另一部分中断指向了liteos。那么能不能在multicore方式中使中断指向liteos呢？
在linux系统中，通过对linux系统打海思官方提供的补丁得到海思的定制系统，其中中断部分的代码位于drivers/irqchip/路径，其中初始化位于irq-gic.c中，中断向量表位于irq-map-hi3559av100.h中。
其中初始化函数如下，该函数主要是将linux补丁中的中断向量表写入芯片配置：
static void gic_dist_init_amp(struct gic_chip_data *gic) { unsigned int i; u32 cpumask; unsigned int *irq_map_int = (unsigned int *)irq_map;	//这是中断向量表的位置 	unsigned int gic_irqs = gic-&gt;gic_irqs; void __iomem *base = gic_data_dist_base(gic); writel_relaxed(GICD_DISABLE, base &#43; GIC_DIST_CTRL); /* * Set all global interrupts to this CPU only. */ for (i = 32; i &lt; gic_irqs; i &#43;= 4) { cpumask = irq_map_int[i / 4]; writel_relaxed(cpumask, base &#43; GIC_DIST_TARGET &#43; i * 4 / 4);	//设置中断向量表 	} gic_dist_config(base, gic_irqs, NULL); writel_relaxed(GICD_ENABLE, base &#43; GIC_DIST_CTRL); } 其中big-little和multicore都存在该部分代码，但是在不同的方式下，有不同的效果，说明执行条件不一样，因此需要看该部分代码的执行条件。"/>

    <meta property="og:title" content="Hi3559a_A53UP调试(二)：中断分析" />
<meta property="og:description" content="一、 中断分析-linux部分 hi3559a的核心部署方式为multicore和big-little，在multicore方式中，所有跟媒体相关的代码都在linux系统，在big-little方式中，部分媒体相关的代码在liteos中，媒体代码与liteos存在较大的耦合。
在milticore方式中，所有的中断都指向了linux系统，在big-little方式中，部分中断指向了linux系统，另一部分中断指向了liteos。那么能不能在multicore方式中使中断指向liteos呢？
在linux系统中，通过对linux系统打海思官方提供的补丁得到海思的定制系统，其中中断部分的代码位于drivers/irqchip/路径，其中初始化位于irq-gic.c中，中断向量表位于irq-map-hi3559av100.h中。
其中初始化函数如下，该函数主要是将linux补丁中的中断向量表写入芯片配置：
static void gic_dist_init_amp(struct gic_chip_data *gic) { unsigned int i; u32 cpumask; unsigned int *irq_map_int = (unsigned int *)irq_map;	//这是中断向量表的位置 	unsigned int gic_irqs = gic-&gt;gic_irqs; void __iomem *base = gic_data_dist_base(gic); writel_relaxed(GICD_DISABLE, base &#43; GIC_DIST_CTRL); /* * Set all global interrupts to this CPU only. */ for (i = 32; i &lt; gic_irqs; i &#43;= 4) { cpumask = irq_map_int[i / 4]; writel_relaxed(cpumask, base &#43; GIC_DIST_TARGET &#43; i * 4 / 4);	//设置中断向量表 	} gic_dist_config(base, gic_irqs, NULL); writel_relaxed(GICD_ENABLE, base &#43; GIC_DIST_CTRL); } 其中big-little和multicore都存在该部分代码，但是在不同的方式下，有不同的效果，说明执行条件不一样，因此需要看该部分代码的执行条件。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shuishen-cang.github.io/post/hi3559a/03hi3559a_a53up%E8%B0%83%E8%AF%952/" />
<meta property="article:published_time" content="2020-12-25T16:57:05+08:00" />
<meta property="article:modified_time" content="2020-12-25T16:57:05+08:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://shuishen-cang.github.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <h1>洛沧</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/tags/hi3559a">Hi3559a开发
</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/ubuntu">ubuntu系统搭建
</a>
      </nav>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vehicula turpis sit amet elit pretium.</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/shuishen-cang" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
          <a target="_blank" href="https://gitee.com/shuishen-cang/" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-link">
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg></a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Hi3559a_A53UP调试(二)：中断分析</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Dec 25, 2020
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          5 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line>
</svg>
              <a class="tag" href="https://shuishen-cang.github.io/tags/hi3559a/">Hi3559a</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <h1 id="一-中断分析-linux部分">一、 中断分析-linux部分</h1>
<p>hi3559a的核心部署方式为multicore和big-little，在multicore方式中，所有跟媒体相关的代码都在linux系统，在big-little方式中，部分媒体相关的代码在liteos中，媒体代码与liteos存在较大的耦合。</p>
<p>在milticore方式中，所有的中断都指向了linux系统，在big-little方式中，部分中断指向了linux系统，另一部分中断指向了liteos。那么能不能在multicore方式中使中断指向liteos呢？</p>
<p>在linux系统中，通过对linux系统打海思官方提供的补丁得到海思的定制系统，其中中断部分的代码位于<code>drivers/irqchip/</code>路径，其中初始化位于<code>irq-gic.c</code>中，中断向量表位于<code>irq-map-hi3559av100.h</code>中。</p>
<p>其中初始化函数如下，该函数主要是将linux补丁中的中断向量表写入芯片配置：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">gic_dist_init_amp</span>(<span style="color:#66d9ef">struct</span> gic_chip_data <span style="color:#f92672">*</span>gic)
{
	<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> i;
	u32 cpumask;
	<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>irq_map_int <span style="color:#f92672">=</span> (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)irq_map;					<span style="color:#75715e">//这是中断向量表的位置
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> gic_irqs <span style="color:#f92672">=</span> gic<span style="color:#f92672">-&gt;</span>gic_irqs;
	<span style="color:#66d9ef">void</span> __iomem <span style="color:#f92672">*</span>base <span style="color:#f92672">=</span> gic_data_dist_base(gic);

	writel_relaxed(GICD_DISABLE, base <span style="color:#f92672">+</span> GIC_DIST_CTRL);

	<span style="color:#75715e">/*
</span><span style="color:#75715e">	 * Set all global interrupts to this CPU only.
</span><span style="color:#75715e">	 */</span>
	<span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>; i <span style="color:#f92672">&lt;</span> gic_irqs; i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">4</span>) {
	    cpumask <span style="color:#f92672">=</span> irq_map_int[i <span style="color:#f92672">/</span> <span style="color:#ae81ff">4</span>];
		writel_relaxed(cpumask, base <span style="color:#f92672">+</span> GIC_DIST_TARGET <span style="color:#f92672">+</span> i <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">4</span>);		<span style="color:#75715e">//设置中断向量表
</span><span style="color:#75715e"></span>	}

	gic_dist_config(base, gic_irqs, NULL);

	writel_relaxed(GICD_ENABLE, base <span style="color:#f92672">+</span> GIC_DIST_CTRL);
}

</code></pre></div><p>其中big-little和multicore都存在该部分代码，但是在不同的方式下，有不同的效果，说明执行条件不一样，因此需要看该部分代码的执行条件。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">//已经删除其他无关代码
</span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">gic_init_bases</span>(<span style="color:#66d9ef">struct</span> gic_chip_data <span style="color:#f92672">*</span>gic, <span style="color:#66d9ef">int</span> irq_start,
			  <span style="color:#66d9ef">struct</span> fwnode_handle <span style="color:#f92672">*</span>handle)
{

	<span style="color:#66d9ef">int</span> gic_dist_init_flag;

<span style="color:#75715e">#define GIC_DIST_INIT_FLAG 0x47444946
</span><span style="color:#75715e">#define GIC_DIST_INIT_FLAG_OFFSET 0x0130
</span><span style="color:#75715e"></span>
	gic_dist_init_flag <span style="color:#f92672">=</span> readl(sysctrl_reg_base <span style="color:#f92672">+</span> GIC_DIST_INIT_FLAG_OFFSET);

	<span style="color:#66d9ef">if</span>(gic_dist_init_flag <span style="color:#f92672">!=</span> GIC_DIST_INIT_FLAG) {
		printk(<span style="color:#e6db74">&#34;Gic dist init...</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);

		gic_dist_init_amp(gic);

		writel_relaxed(GIC_DIST_INIT_FLAG, sysctrl_reg_base <span style="color:#f92672">+</span> GIC_DIST_INIT_FLAG_OFFSET);
	} <span style="color:#66d9ef">else</span>
		printk(<span style="color:#e6db74">&#34;Gic dist not init...</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);

	ret <span style="color:#f92672">=</span> gic_cpu_init(gic);

	<span style="color:#66d9ef">return</span> ret;
}

</code></pre></div><p>如上代码所示：linux主要是通过判断<code>GIC_DIST_INIT_FLAG_OFFSET</code>是否写入了<code>0x47444946</code>来确定是否重新刷写中断向量表。</p>
<h1 id="二-中断分析-liteos部分">二、 中断分析-liteos部分</h1>
<p>看一下A53UP中关于中断的代码，A53UP的中断配置位于sdk中的osdrv/osdrv/platform/liteos_a53/liteos_user/platform/bsp/board/hi3559av100/cortex-a53_aarch64/hi3559av100_aarch64_board.c中，该目录下也存在相对应的中断向量表，可以自行设置。</p>
<p>看一下配置代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">
<span style="color:#75715e">#define GIC_DIST_INIT_FLAG_OFFSET 0x0130
</span><span style="color:#75715e">#define GIC_DIST_INIT_FLAG 0x47444946
</span><span style="color:#75715e"></span>
VOID <span style="color:#a6e22e">platform_gic_dist_init</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> gic_nr, VOID <span style="color:#f92672">*</span>base, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> irq_start)
{
    <span style="color:#75715e">//已经删除了无关代码
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(GET_UINT32(GIC_DIST_INIT_FLAG_BASE <span style="color:#f92672">+</span> GIC_DIST_INIT_FLAG_OFFSET) <span style="color:#f92672">==</span> GIC_DIST_INIT_FLAG)
        <span style="color:#66d9ef">return</span>;
	<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>irq_dist <span style="color:#f92672">=</span> (<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)irq_map;
    WRITE_UINT32(<span style="color:#ae81ff">0x0</span>, addr_base <span style="color:#f92672">+</span> ARM_GIC_DIST_CTRL);

    max_irq <span style="color:#f92672">=</span> OS_HWI_MAX_NUM; <span style="color:#75715e">//256 interrupts at most
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>; i <span style="color:#f92672">&lt;</span> max_irq; i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">16</span>) {
        WRITE_UINT32(<span style="color:#ae81ff">0x0</span>, addr_base <span style="color:#f92672">+</span> ARM_GIC_DIST_CONFIG <span style="color:#f92672">+</span> i <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">16</span>);	<span style="color:#75715e">//写入中断向量表
</span><span style="color:#75715e"></span>    }

    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>; i <span style="color:#f92672">&lt;</span> max_irq; i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">4</span>) {
<span style="color:#75715e">#ifdef LOSCFG_PLATFORM_HISI_AMP
</span><span style="color:#75715e"></span>        <span style="color:#75715e">/*
</span><span style="color:#75715e">         * distribute all global interrupts to A53UP or A53MP-0
</span><span style="color:#75715e">         */</span>
        WRITE_UINT32(<span style="color:#f92672">*</span>irq_dist, addr_base <span style="color:#f92672">+</span> ARM_GIC_DIST_TARGET <span style="color:#f92672">+</span> i);
        irq_dist<span style="color:#f92672">++</span>;
<span style="color:#75715e">#else
</span><span style="color:#75715e"></span>        <span style="color:#75715e">/*
</span><span style="color:#75715e">         * Set all global interrupts to this CPU only.
</span><span style="color:#75715e">         */</span>
        WRITE_UINT32(cpumask, addr_base <span style="color:#f92672">+</span> ARM_GIC_DIST_TARGET <span style="color:#f92672">+</span> i);
<span style="color:#75715e">#endif
</span><span style="color:#75715e"></span>    }
    <span style="color:#75715e">/*
</span><span style="color:#75715e">     * Set priority on all interrupts.
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> max_irq; i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">4</span>) {
        WRITE_UINT32(<span style="color:#ae81ff">0xa0a0a0a0</span>, addr_base <span style="color:#f92672">+</span> ARM_GIC_DIST_PRI <span style="color:#f92672">+</span> i <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">4</span>);
    }

    <span style="color:#75715e">/*
</span><span style="color:#75715e">     * Disable all interrupts.
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> max_irq; i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">32</span>) {
        WRITE_UINT32(<span style="color:#ae81ff">0xffffffff</span>, addr_base <span style="color:#f92672">+</span> ARM_GIC_DIST_ENABLE_CLEAR <span style="color:#f92672">+</span> i <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">32</span>);
    }

    WRITE_UINT32(<span style="color:#ae81ff">1</span>, addr_base <span style="color:#f92672">+</span> ARM_GIC_DIST_CTRL);
<span style="color:#75715e">#ifdef LOSCFG_PLATFORM_HISI_AMP
</span><span style="color:#75715e"></span>	WRITE_UINT32(GIC_DIST_INIT_FLAG, GIC_DIST_INIT_FLAG_BASE <span style="color:#f92672">+</span> GIC_DIST_INIT_FLAG_OFFSET);	<span style="color:#75715e">//写入0x47444946
</span><span style="color:#75715e"></span><span style="color:#75715e">#endif
</span><span style="color:#75715e"></span>}
</code></pre></div><p>如上所述，中断应该不做任何处理就可以在multicore中使用。</p>
<h1 id="三-中断向量表">三、 中断向量表</h1>
<p>通过上述分析，在双系统中，所有的中断都可以liteos中设置，其文件位于<code>osdrv/platform/liteos_a53/liteos_user/platform/bsp/board/hi3559av100/cortex-a53_aarch64/include/irq_map.h</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#75715e">#ifndef __IRQ_MAP_CONFIG_H__
</span><span style="color:#75715e">#define __IRQ_MAP_CONFIG_H__
</span><span style="color:#75715e"></span>
<span style="color:#75715e">#define TO_A53MP0  (1&lt;&lt;0x00)
</span><span style="color:#75715e">#define TO_A53MP1  (1&lt;&lt;0x01)
</span><span style="color:#75715e">#define TO_A73MP0  (1&lt;&lt;0x02)
</span><span style="color:#75715e">#define TO_A73MP1  (1&lt;&lt;0x03)
</span><span style="color:#75715e">#define TO_A53UP_  (1&lt;&lt;0x04)  </span><span style="color:#75715e">//Local
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> irq_map[OS_HWI_MAX_NUM<span style="color:#f92672">-</span><span style="color:#ae81ff">32</span>] <span style="color:#f92672">=</span> {
	<span style="color:#75715e">/*time 0   timer 2    timer 4    timer 6  */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53UP_, <span style="color:#75715e">/* 32  ~ 35 */</span>
	<span style="color:#75715e">/*time 8   timer 10   uart 0     uart 1   */</span>
	TO_A53UP_, TO_A53UP_, TO_A53MP0, TO_A53UP_, <span style="color:#75715e">/* 36  ~ 39 */</span>
	<span style="color:#75715e">/*uart 2   uart 3     uart 4     RTC      */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 40  ~ 43 */</span>
	<span style="color:#75715e">/*i2c 0    i2c 1      i2c 2      i2c 3    */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 44  ~ 47 */</span>
	<span style="color:#75715e">/*i2c 4    i2c 5      i2c 6      i2c 7    */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 48  ~ 51 */</span>
	<span style="color:#75715e">/*i2c 8    i2c 9      i2c 10     i2c 11   */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53UP_,	<span style="color:#75715e">/* 52  ~ 55 */</span>
	<span style="color:#75715e">/*IR       FMC        eMMC       VDMA   */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53UP_,	<span style="color:#75715e">/* 56  ~ 59 */</span>
	<span style="color:#75715e">/*res      res        SPACC      SSP0   */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53UP_,	<span style="color:#75715e">/* 60  ~ 63 */</span>
	<span style="color:#75715e">/*SSP1     SSP2       SSP3       SSP4   */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 64  ~ 67 */</span>
	<span style="color:#75715e">/*GMAC0    GMAC1      SOFTWARE   VEDU0   */</span>
	TO_A53MP0, TO_A53UP_, TO_A53MP0, TO_A53UP_,	<span style="color:#75715e">/* 68  ~ 71 */</span>
	<span style="color:#75715e">/*VEDU1    VEDU2      res        VGS0   */</span>
	TO_A53UP_, TO_A53UP_, TO_A53MP0, TO_A53UP_,	<span style="color:#75715e">/* 72  ~ 75 */</span>
	<span style="color:#75715e">/*VGS1     VPSS0      VPSS1      GDC0   */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 76  ~ 79 */</span>
	<span style="color:#75715e">/*GDC1     JPGE       res        GME   */</span>
	TO_A53UP_, TO_A53UP_, TO_A53MP0, TO_A53UP_,	<span style="color:#75715e">/* 80  ~ 83 */</span>
	<span style="color:#75715e">/*JPGD     TDE        GZIP       PGD   */</span>
	TO_A53UP_, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 84  ~ 87 */</span>
	<span style="color:#75715e">/*IVE      res        NNIE0      NNIE1   */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 88  ~ 91 */</span>
	<span style="color:#75715e">/*VICAP    VIPROC0    VIPROC1    MIPI TX   */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 92  ~ 95 */</span>
	<span style="color:#75715e">/*HDMI     HDMI       HDMI       VDP0 */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_, <span style="color:#75715e">/* 96  ~ 99 */</span>
	<span style="color:#75715e">/*VDP1     AIAO       DSP0       DSP1 */</span>
	TO_A53MP0, TO_A53UP_, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 100 ~ 103*/</span>
	<span style="color:#75715e">/*DSP2     DSP3       SDIO0      SDIO1  */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 104 ~ 107*/</span>
	<span style="color:#75715e">/*SDIO2    SDIO_WA0   SDIO_WA1   SDIO_WA2  */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 108 ~ 111*/</span>
	<span style="color:#75715e">/*DDRPHY   DMAC0      DMAC1      UFS    */</span>
	TO_A53MP0, TO_A53UP_, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 112 ~ 115*/</span>
	<span style="color:#75715e">/*USB 0    USB 1      SLVS-EC    res    */</span>
	TO_A53MP0, TO_A53MP0, TO_A53UP_, TO_A53MP0,	<span style="color:#75715e">/* 116 ~ 119*/</span>
	<span style="color:#75715e">/*MIPI RX  DDRT 0     DDRT 1     VDH_OLP    */</span>
	TO_A53UP_, TO_A53MP0, TO_A53MP0, TO_A53UP_,	<span style="color:#75715e">/* 120 ~ 123*/</span>
	<span style="color:#75715e">/*VDH_ILP  VDH_SAFE   VDH_NOR    VDH_MDMA    */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 124 ~ 127*/</span>
	<span style="color:#75715e">/*SSP5     SSP6       A53UP CCI  BL_CCI  */</span>
	TO_A53MP0, TO_A53MP0, TO_A53UP_, TO_A53MP0,	<span style="color:#75715e">/* 128 ~ 131*/</span>
	<span style="color:#75715e">/*GPU      GPU        GPU        GPU     */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 132 ~ */</span>
	<span style="color:#75715e">/*RSA      WDG        CAN 0      CAN 1   */</span>
	TO_A53MP0, TO_A53UP_ <span style="color:#f92672">|</span> TO_A53MP0 <span style="color:#f92672">|</span> TO_A53MP1 <span style="color:#f92672">|</span> TO_A73MP0 <span style="color:#f92672">|</span> TO_A73MP1, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 136 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 140 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 144 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 148 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 152 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 156 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 160 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 164 ~ */</span>
	<span style="color:#75715e">/*A73MP_NCOMMIRQ1 PMU CTIIRQ0    COMMRX 0*/</span>
	TO_A53MP0, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 168 ~ */</span>
	<span style="color:#75715e">/* COMMTX  NCOMMIRQ   PCIE       PCIE    */</span>
	TO_A53UP_, TO_A53UP_, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 172 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 176 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 180 ~ */</span>
	<span style="color:#75715e">/* AVSP 0  AVSP 1     AVSP 2     AVSP 3  */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 184 ~ */</span>
	<span style="color:#75715e">/* AVSP 4  AVSP 5     AVSP 6     AVSP 7  */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53UP_,	<span style="color:#75715e">/* 188 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 192 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 196 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 200 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 204 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 208 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 212 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 216 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 220 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 224 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 228 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 232 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 236 ~ */</span>
	<span style="color:#75715e">/*DPU_RECT DPU_MATCH  DPU_POSTPROC IPC_0  */</span>
	TO_A53UP_, TO_A53UP_, TO_A53UP_, TO_A53MP0,	<span style="color:#75715e">/* 240 ~ */</span>
	<span style="color:#75715e">/*IPC_1    IPC_2*/</span>
	TO_A53MP0, TO_A53UP_, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 244 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 248 ~ */</span>
	TO_A53MP0, TO_A53MP0, TO_A53MP0, TO_A53MP0,	<span style="color:#75715e">/* 252 ~ */</span>
};<span style="color:#75715e">/* [32 - 255] */</span>
<span style="color:#75715e">#else
</span><span style="color:#75715e">#error &#34;should not include irq_map.h twice&#34;
</span><span style="color:#75715e">#endif
</span><span style="color:#75715e"></span>
</code></pre></div>
    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
